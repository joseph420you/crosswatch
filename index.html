<!DOCTYPE html>
<html lang="zh-TW">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>CrossWatch - 台灣路口即時監視器地圖</title>
  <meta name="description" content="在地圖上即時查看台灣路口監視器影像">
  <meta name="theme-color" content="#1a1a2e">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+TC:wght@400;500;600;700&display=swap"
    rel="stylesheet">
  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
  <link rel="stylesheet" href="css/style.css">
</head>

<body>

  <!-- Loading Overlay -->
  <div id="loading-overlay">
    <div class="loading-spinner"></div>
    <div class="loading-text">CrossWatch 載入中...</div>
  </div>

  <!-- Leaflet Map -->
  <div id="map"></div>

  <!-- Camera Count Badge -->
  <div id="camera-count"></div>

  <!-- Custom Map Control Bar (top-right vertical) -->
  <div id="map-controls">
    <!-- Zoom In -->
    <button class="ctrl-btn" id="ctrl-zoom-in" title="放大" aria-label="放大">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
        <path d="M440-440H200v-80h240v-240h80v240h240v80H520v240h-80v-240Z" />
      </svg>
    </button>
    <!-- Zoom Out -->
    <button class="ctrl-btn" id="ctrl-zoom-out" title="縮小" aria-label="縮小">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
        <path d="M200-440v-80h560v80H200Z" />
      </svg>
    </button>
    <div class="ctrl-divider"></div>
    <!-- GPS Locate -->
    <button class="ctrl-btn" id="ctrl-locate" title="定位到我的位置" aria-label="GPS 定位">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
        <path
          d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" />
      </svg>
    </button>
  </div>

  <!-- Camera Dialog Overlay -->
  <div id="camera-overlay">
    <div class="camera-dialog">
      <!-- Header -->
      <div class="camera-dialog-header">
        <svg class="camera-dialog-header-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
          <path
            d="M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h480q33 0 56.5 23.5T720-720v180l160-160v440L720-420v180q0 33-23.5 56.5T640-160H160Z" />
        </svg>
        <span id="dialog-title" class="camera-dialog-title">載入中...</span>
        <button class="dialog-close-btn" id="btn-close" title="關閉" aria-label="關閉">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
            <path
              d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z" />
          </svg>
        </button>
      </div>
      <!-- Image -->
      <div class="camera-dialog-image">
        <img id="dialog-image" src="" alt="" />
        <span class="loading-placeholder">載入影像中...</span>
      </div>
    </div>
  </div>

  <!-- Toast -->
  <div id="toast"></div>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

  <!-- App Scripts -->
  <script src="js/camera.js"></script>
  <script src="js/ui.js"></script>
  <script src="js/app.js"></script>

</body>

</html>